[![Tests](../../actions/workflows/tests-13-sprint.yml/badge.svg)](../../actions/workflows/tests-13-sprint.yml) [![Tests](../../actions/workflows/tests-14-sprint.yml/badge.svg)](../../actions/workflows/tests-14-sprint.yml)
# Проект Mesto (бэкенд версия)

В данном проекте реализуется бэкенд часть приложения Mesto. С фронтенд версиями можно ознакомиться по ссылкам: 

- **Mesto**: https://github.com/stankenA/mesto
- **Mesto с React**: https://github.com/stankenA/mesto-react

## Описание и функционал

В данной версии реализовано создание сервера на express.js с использование СУБД MongoDB. 
Приложение корректно обрабатывает запросы по следующим роутам: 
- GET /users — возвращает всех пользователей из базы;
- GET /users/:userId — возвращает пользователя по _id;
- GET /users/me — возвращает информацию о текущем пользователе;
- POST /users — создаёт пользователя с переданными в теле запроса name , about и avatar;
- PATCH /users/me — обновляет профиль пользователя;
- PATCH /users/me/avatar — обновляет аватар пользователя;
- GET /cards — возвращает все карточки из базы;
- POST /cards — создаёт карточку с переданными в теле запроса name и link , устанавливает поле owner для
  карточки;
- DELETE /cards/:cardId — удаляет карточку по _id;
- PUT /cards/:cardId/likes — ставит лайк карточке;
- DELETE /cards/:cardId/likes — убирает лайк с карточки.
> Все роуты выше защищены авторизацией
- POST /signup — регистрация пользователя;
- POST /signin — авторизация пользователя;

### Остальные функции:
1. При регистрации пароль пользователя хешируется, API не возвращает хеш клиенту.
2. Все запросы валидируются перед передачей их контроллерам.
3. Настроено логирование.

Также сервер корректно реагирует на неправильные запросы, централизованно обрабатывает ошибки и при возникновении таковой возвращает соответствующие сообщение и статус.

## Стек технологий 

В приложении были использованы следующие технологии: 
- Программная платформа Node.js
- Фреймворк express.js 
- СУБД MongoDB в связке с ODM (Object Document Mapper) "Mongoose"

## Инструкция по развёртыванию: 

1. Клонируйте данный репозиторий локально на своё устройство
2. Установите зависимости при помощи команды `npm i`
3. Запустите проект с помощью команды `npm run start`
4. Для получения JWT токена зарегистрируйтесь и авторизируйтесь. Для дальнейших запросов передавайте полученный JWT токен в заголовке `Authorization`

> Для удобства тестирования воспользуйтесь сервисом Postman

## Директории

`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки   
`/models` — папка с файлами описания схем пользователя и карточки  
  
Остальные директории вспомогательные
